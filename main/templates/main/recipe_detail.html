{% extends 'main/header.html' %}
{% load crispy_forms_tags %}

{% block content %}

<div class="container">
    <div class="row">
        <div class="col">
            <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}" class="img-fluid"
                 style="float: left; margin-right: 10px, margin-bottom: 5px; border: solid black 1px; padding: 2px">
        </div>
    </div>
    <div class="row">
        <div class="col"><br>
            <h2>{{ recipe.title }}</h2><br>
            {{recipe.recipe_category}} <br> tagi:
            {% for tag in recipe.tag.all %}
            {{tag.name}},{% endfor %}<br>
            <hr>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <h3><strong>Składniki:</strong></h3>
            <ul>
                <li>papryka</li>
                <li>ogórek</li>
                <li>masło</li>
                <li>pieprz</li>

            </ul>
        </div>
        <div class="col">
            <h3><strong>Opis:</strong></h3>

            {{ recipe.description }}
            <hr>
            <h3><strong>Przygotowanie:</strong></h3>

            {{ recipe.preparing }}
        </div>
    </div>
</div>
<br><br>
<hr>
<h2>Comments</h2>

{% for comment in recipe.comments.all %}
<div class="row justify-content-left" style="margin-left: 30px">
    <div class="comment">
        <div class="date smalltext">{{ comment.created_date }}</div>
        <strong>{{ comment.author }}</strong>
        <p>{{ comment.text|linebreaks }}</p>
        <hr>
    </div>
</div>
{% empty %}
<p>No comments here yet.</p>
{% endfor %}
{% if user.is_authenticated %}
<p>Add new comment</p>
<form method="POST" class="post-form" style="width:400px;">
    {% csrf_token %}
    {{ form|crispy }}

    <button type="submit" class="btn btn-secondary">Add</button>
    {% else %}
    {% endif %}

</form>

{% endblock %}